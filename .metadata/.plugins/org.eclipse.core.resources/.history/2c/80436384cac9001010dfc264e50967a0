package com.example.demo.dao;
import java.sql.PreparedStatement;
import java.sql.SQLException;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.dao.DataAccessException;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.core.PreparedStatementCallback;
import org.springframework.stereotype.Repository;

import com.example.demo.bean.DoctorBean;
import com.example.demo.service.DoctorService;


@Repository
public class AdminDao {


	@Autowired
	private JdbcTemplate jdbcTemplate;
	int i=0;
//	public int addDoctor(DoctorBean db) {
//		return jdbcTemplate.update("insert into doctor values('"+db.getDoctorID()+"','"+db.getDoctorName()+"','"+db.getDateOfBirth()+"','"+db.getDateOfJoining()+"','"+db.getGender()+"','"+db.getQualification()+"','"+db.getSpecialization()+"','"+db.getExperience()+"','"+db.getStreet()+"','"+db.getLocation()+"','"+"','"+db.getCity()+"','"+db.getState()+"','"+db.getPincode()+"','"+db.getContact()+"','"+db.getEmail()+"')");
//	}
//	
	public int addDoctor(DoctorBean db)
	{
		jdbcTemplate.execute("insert into doctor values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)",new PreparedStatementCallback<DoctorBean>() {

			@Override
			public DoctorBean doInPreparedStatement(PreparedStatement ps) throws SQLException, DataAccessException {
				// TODO Auto-generated method stub
				ps.setString(1, db.getDoctorID());
				ps.setString(2, db.getDoctorName());
				ps.setDate(3, java.sql.Date.valueOf(db.getDateOfBirth()));
				ps.setDate(4, java.sql.Date.valueOf(db.getDateOfJoining()));
				ps.setString(5, db.getGender());
				ps.setString(5,db.getQualification());
				ps.setString(6, db.getSpecialization());
				ps.setInt(7, db.getExperience());
				ps.setString(8, db.getStreet());
				ps.setString(9, db.getLocation());
				ps.setString(10, db.getCity());
				ps.setString(11, db.getState());
				ps.setInt(12,db.getPincode());
				ps.setString(13, db.getContact());
				ps.setString(14, db.getEmail());
				
				i=ps.executeUpdate();
				
				return db;
			}
		});
		return i;
	}
	
//	public int updateDoctor(DoctorBean db)
//
//	{
//
//	return jdbcTemplate.update("update employee set name='"+db.getDoctorName()+"',Gender='"+db.getGender()+"',Experience='"+db.getExperience()+"',Contact='"+db.getContact()+"',Email='"+db.getEmail()+"' where id='"+db.getDoctorID()+"'");
//
//	}
//
//	public int deleteDoctor(int id)
//
//	{
//
//	return jdbcTemplate.update("delete from doctor where id="+id);
//
//	}


}
