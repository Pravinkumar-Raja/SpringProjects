package com.example.demo.contreoller;

import java.util.ArrayList;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.servlet.ModelAndView;

import com.example.demo.bean.DoctorBean;
import com.example.demo.bean.PatientBean;



@RestController
@RequestMapping("/admin")
public class AdminController {
@GetMapping("/Welcome")

public String meth1()
{
	return "<hr><h2><marquee directions='right'>Welcome to Spring Boot Application</marquee></h2><hr>";
}
@GetMapping("/data")
public ArrayList<String> meth2()
{
	ArrayList<String> al=new ArrayList<>();
	al.add("Pk");
	al.add("Pravin");
	al.add("Kumar");
	al.add("Puducherry");
	return al;
}

@GetMapping("/login")
public ModelAndView meth3()
{
	return new ModelAndView("Login");
}
//@RequestMapping(value="/validate",method=RequestMethod.POST)
@PostMapping(value="/validate")
public ModelAndView meth4(@RequestParam("user")String user,@RequestParam("pass")String pass)
{
	if(user.equals("Pravin")&&pass.equals("Pk@1234"))
{
		return 
}
	else if(user.equals("Pravin")&&pass.equals("Pa1234"))
	{
		return new ModelAndView("AddPatient");
	}
	else
	{
		return new ModelAndView("Invalid");
	}
}


@GetMapping("/login2")
public ModelAndView meth7()
{
	return new ModelAndView("Login");
}
public ModelAndView meth8(@RequestParam("user")String usr,@RequestParam("pass")String pas)
{
	if(usr.equals("AD-001")&&pas.equals("AD-001"))
	{
		return new ModelAndView("AddDoctor");
	}
	else
	{
		return new ModelAndView("Invalid");
	}
}
@PostMapping(value="/addDoctor")
public String meth5(@ModelAttribute("db")DoctorBean db)
{
	
	return "<h1>"+"Doctor Details Added SuccessFully"+"</h1>";
}

@PostMapping(value="/addPatient")
public String meth6(@ModelAttribute("pb")PatientBean pb)
{
	return "<h1>"+"Patient Added Successfully"+"</h1>";
}
}
