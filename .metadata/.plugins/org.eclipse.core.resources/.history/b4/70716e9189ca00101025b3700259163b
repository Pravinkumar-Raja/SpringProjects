package com.example.demo.dao;
//import java.sql.PreparedStatement;
//import java.sql.SQLException;

import org.hibernate.SessionFactory;
//import org.springframework.beans.factory.annotation.Autowired;
//import org.springframework.dao.DataAccessException;
//import org.springframework.jdbc.core.JdbcTemplate;
//import org.springframework.jdbc.core.PreparedStatementCallback;
//import org.springframework.stereotype.Repository;
//
//import com.example.demo.bean.DoctorBean;
//import com.example.demo.service.DoctorService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.stereotype.Repository;
import org.hibernate.*;
import com.example.demo.bean.DoctorBean;

import org.springframework.beans.factory.annotation.Autowired;


@Repository
public class AdminDao {

//
//	@Autowired
//	private JdbcTemplate jdbcTemplate;
//	int i=0;
////	public int addDoctor(DoctorBean db) {
////		return jdbcTemplate.update("insert into doctor values('"+db.getDoctorID()+"','"+db.getDoctorName()+"','"+db.getDateOfBirth()+"','"+db.getDateOfJoining()+"','"+db.getGender()+"','"+db.getQualification()+"','"+db.getSpecialization()+"','"+db.getExperience()+"','"+db.getStreet()+"','"+db.getLocation()+"','"+"','"+db.getCity()+"','"+db.getState()+"','"+db.getPincode()+"','"+db.getContact()+"','"+db.getEmail()+"')");
////	}
////	
//	public int addDoctor(DoctorBean db)
//	{
//		jdbcTemplate.execute("insert into doctor values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)",new PreparedStatementCallback<DoctorBean>() {
//
//			@Override
//			public DoctorBean doInPreparedStatement(PreparedStatement ps) throws SQLException, DataAccessException {
//				// TODO Auto-generated method stub
//				ps.setString(1, db.getDoctorID());
//				ps.setString(2, db.getDoctorName());
//				ps.setDate(3, java.sql.Date.valueOf(db.getDateOfBirth()));
//				ps.setDate(4, java.sql.Date.valueOf(db.getDateOfJoining()));
//				ps.setString(5, db.getGender());
//				ps.setString(6,db.getQualification());
//				ps.setString(7, db.getSpecialization());
//				ps.setInt(8, db.getExperience());
//				ps.setString(9, db.getStreet());
//				ps.setString(10, db.getLocation());
//				ps.setString(11, db.getCity());
//				ps.setString(12, db.getState());
//				ps.setInt(13,db.getPincode());
//				ps.setString(14, db.getContact());
//				ps.setString(15, db.getEmail());
//				
//				i=ps.executeUpdate();
//				
//				return db;
//			}
//		});
//		return i;
//	}
	
//	public int updateDoctor(DoctorBean db)
//
//	{
//
//	return jdbcTemplate.update("update employee set name='"+db.getDoctorName()+"',Gender='"+db.getGender()+"',Experience='"+db.getExperience()+"',Contact='"+db.getContact()+"',Email='"+db.getEmail()+"' where id='"+db.getDoctorID()+"'");
//
//	}
//
//	public int deleteDoctor(int id)
//
//	{
//
//	return jdbcTemplate.update("delete from doctor where id="+id);
//
//	}

	
	
	@Autowired
	private SessionFactory sessionFactory;
	
	public int addDoctor(DoctorBean db)
	{
		int i=0;
		Session s=null;
		s=sessionFactory.openSession();
		Transaction t=s.beginTransaction();
		if(db!=null)
		{
//		s.save(db);
			s.persist(db);
		t.commit();
		i=1;
		}
		
		return i;
	}
//	@Repository
//
//	public class AdministratorDao {
//
//	@Autowired
//
//	private SessionFactory sessionFactory;
//
//
//
//	public SessionFactory getSessionFactory() {
//
//	return sessionFactory;
//
//	}
//
//	public void setSessionFactory(SessionFactory sessionFactory) {
//
//	this.sessionFactory = sessionFactory;
//
//	}
//
//	int i=0;
//
//	public int addFlight(FlightBean fb)
//
//	{
//
//	Session s=null;
//
//	Transaction t=s.beginTransaction();
//
//	if(fb!=null)
//
//	{
//
//	s=sessionFactory.getCurrentSession();
//
//	s.persist(fb);
//
//	t.commit();
//
//	return i=1;
//
//		}
//
//		else
//
//		{
//
//	 return i=0;
//
//		}
//	}

}
